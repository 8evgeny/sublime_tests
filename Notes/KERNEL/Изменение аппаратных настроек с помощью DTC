1 — Установим DTC (если он не установлен):
sudo apt-get install device-tree-compiler

2 — Создаем резервный файл в случае возникновения ошибки:
sudo cp /boot/dtb/kvim3_linux.dtb /boot/dtb/kvim3_linux.dtb.bak

3 — Преобразуем двоичный файл dtb в редактируемый текстовый файл dts:
sudo dtc -b 0 -O dts -I dtb -o kvim3_linux.dts kvim3_linux.dtb

4 — Редактируем то, что нам нужно в файле dts:
sudo nano kvim3_linux.dts

5 — Преобразуем отредактированный файл dts в двоичный формат dtb:
sudo dtc -b 0 -O dtb -I dts -o kvim3_linux.dtb kvim3_linux.dts

6 — Перезапустим систему, чтобы изменения вступили в силу:
sudo reboot


Однако, если в нем есть инклудники или какие то не стандартные фичи, то например для малины, под бубунтой придется собирать кросскомпилятором. Для этого файл должен быть включен в Makefile. Обратить внимание именно dtb.

make bcm2709-rpi-2-b.dtb

 пара простых примеров, например настройка 17 пина на вход с подтяжкой.

&gpio {

	pinctrl-names = "default";
        pinctrl-0 = <&my_pins>;

        my_pins: my_pins {
                brcm,pins = <17>;      /* gpio number */
                brcm,function = <0>;   /* 0:in, 1:out */
                brcm,pull = <2>;       /* 2:up 1:down 0:none */
        };
Настройка светодиода на 17 ножке для мигания по таймеру.

&leds {
	green {
            gpios = <&gpio 17 GPIO_ACTIVE_LOW>;
            default-state = "on";
            linux,default-trigger = "timer";
        };